# 招商手册 PPT 智能设计与编辑模块开发计划

根据您的需求，我们将升级现有的招商手册功能，实现从“模板选择”到“AI 智能生成”再到“逐页精细编辑”的完整工作流。

## 1. 后端升级 (Backend)
目标：将 AI 生成内容结构化，便于前端分页展示和编辑。

- **修改接口**：`/api/design/manual/generate`
- **优化 Prompt**：调整提示词，强制要求 AI 返回 **JSON 格式**数据。
- **数据结构**：
  ```json
  {
    "slides": [
      { "title": "封面页", "content": "未来城市..." },
      { "title": "市场痛点", "content": "- 痛点1\n- 痛点2" }
    ]
  }
  ```

## 2. 前端交互升级 (Frontend)
目标：实现点击卡片触发流程，并提供可视化的 PPT 编辑界面。

### A. 模板选择与输入
- **点击交互**：在 `GalleryView` 中为预览卡片（`div`）添加点击事件。
- **流程触发**：点击卡片 -> 弹出“信息输入”模态框（复用并优化现有弹窗）。

### B. PPT 逐页编辑器 (Slide Editor)
- **界面设计**：在生成完成后，将模态框切换为“编辑器模式”。
- **布局规划**：
  - **左侧导航**：显示幻灯片缩略图/列表（如：第 1 页、第 2 页...）。
  - **中间画布**：提供表单输入框，允许用户“手动填写”或修改当前页面的 **标题** 和 **正文内容**。
  - **底部操作**：添加“新增页面”、“删除页面”、“导出 PPT”按钮。

## 3. 开发步骤
1.  **后端**：修改 `main.py`，更新 Prompt 以输出 JSON，并增加 JSON 解析逻辑。
2.  **前端**：
    - 修改 `FeaturePage.tsx`，响应卡片点击。
    - 扩展 `isModalOpen` 的状态管理，区分“输入阶段”和“编辑阶段”。
    - 实现 `SlideEditor` 组件，用于逐页内容的展示和修改。

## 4. 预期效果
用户点击任一模板卡片，输入“人工智能行业”，AI 自动生成约 8-10 页的 PPT 大纲。随后界面变为编辑器，用户可以点击左侧“第 3 页：商业模式”，在右侧手动补充具体的盈利数据，最后完成设计。